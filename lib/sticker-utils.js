const a12_0x147161=a12_0x2cf7;function a12_0x5ab3(){const _0x3eb66a=['@ffmpeg-installer/ffmpeg','2151527CWXWRf','2048730BeXzpV','arraybuffer','Could\x20not\x20fetch\x20GIF.','.gif','scale=\x27min(320,iw)\x27:min\x27(320,ih)\x27:force_original_aspect_ratio=decrease,fps=15,pad=320:320:-1:-1:color=white@0.0,split\x20[a][b];[a]\x20palettegen=reserve_transparent=on:transparency_color=ffffff\x20[p];[b][p]\x20paletteuse','setFfmpegPath','-an','3617956fhhpRR','6yfQCRF','279PGRCEt','writeFileSync','error','libwebp','save','Error\x20fetching\x20image:','240506jLjaBu','toString','webp','end','crypto','readFileSync','addOutputOptions','Could\x20not\x20fetch\x20image.','path','753JeHvoy','99952pZvGxR','exports','2237620dCvMEc','fluent-ffmpeg','get','6394xlCsGv','-preset','toFormat','unlinkSync','hex','randomBytes'];a12_0x5ab3=function(){return _0x3eb66a;};return a12_0x5ab3();}(function(_0x43f86c,_0x5ec2ab){const _0x392cb0=a12_0x2cf7,_0x3f5898=_0x43f86c();while(!![]){try{const _0x445ff7=parseInt(_0x392cb0(0x118))/0x1+-parseInt(_0x392cb0(0x101))/0x2*(-parseInt(_0x392cb0(0xfb))/0x3)+-parseInt(_0x392cb0(0x110))/0x4+parseInt(_0x392cb0(0xfe))/0x5+-parseInt(_0x392cb0(0x111))/0x6*(parseInt(_0x392cb0(0x108))/0x7)+-parseInt(_0x392cb0(0xfc))/0x8*(-parseInt(_0x392cb0(0x112))/0x9)+-parseInt(_0x392cb0(0x109))/0xa;if(_0x445ff7===_0x5ec2ab)break;else _0x3f5898['push'](_0x3f5898['shift']());}catch(_0x92e046){_0x3f5898['push'](_0x3f5898['shift']());}}}(a12_0x5ab3,0x7090c));function a12_0x2cf7(_0x33fce8,_0x5b7d4e){const _0x5ab3ff=a12_0x5ab3();return a12_0x2cf7=function(_0x2cf70a,_0x58f7fd){_0x2cf70a=_0x2cf70a-0xfa;let _0x167ec5=_0x5ab3ff[_0x2cf70a];return _0x167ec5;},a12_0x2cf7(_0x33fce8,_0x5b7d4e);}const axios=require('axios'),fs=require('fs'),path=require(a12_0x147161(0xfa)),{tmpdir}=require('os'),Crypto=require(a12_0x147161(0x11c)),ffmpegPath=require(a12_0x147161(0x107))[a12_0x147161(0xfa)],ffmpeg=require(a12_0x147161(0xff));ffmpeg[a12_0x147161(0x10e)](ffmpegPath);async function fetchImage(_0x3bfcfd){const _0x5d0228=a12_0x147161;try{const _0x7c4ae9=await axios[_0x5d0228(0x100)](_0x3bfcfd,{'responseType':_0x5d0228(0x10a)});return _0x7c4ae9['data'];}catch(_0x213fc6){console[_0x5d0228(0x114)](_0x5d0228(0x117),_0x213fc6);throw new Error(_0x5d0228(0x11f));}}async function fetchGif(_0x32f831){const _0x47a02d=a12_0x147161;try{const _0x4362ac=await axios[_0x47a02d(0x100)](_0x32f831,{'responseType':_0x47a02d(0x10a)});return _0x4362ac['data'];}catch(_0x32ca09){console[_0x47a02d(0x114)]('Error\x20fetching\x20GIF:',_0x32ca09);throw new Error(_0x47a02d(0x10b));}}async function gifToSticker(_0x2a886c){const _0x4c328a=a12_0x147161,_0x28003e=path['join'](tmpdir(),Crypto[_0x4c328a(0x106)](0x6)[_0x4c328a(0x119)]('hex')+'.webp'),_0x2a32b5=path['join'](tmpdir(),Crypto[_0x4c328a(0x106)](0x6)['toString'](_0x4c328a(0x105))+_0x4c328a(0x10c));fs[_0x4c328a(0x113)](_0x2a32b5,_0x2a886c),await new Promise((_0x54ef03,_0x296a4c)=>{const _0x251d8c=_0x4c328a;ffmpeg(_0x2a32b5)['on'](_0x251d8c(0x114),_0x296a4c)['on'](_0x251d8c(0x11b),()=>_0x54ef03(!![]))[_0x251d8c(0x11e)](['-vcodec',_0x251d8c(0x115),'-vf',_0x251d8c(0x10d),'-loop','0',_0x251d8c(0x102),'default',_0x251d8c(0x10f),'-vsync','0'])[_0x251d8c(0x103)](_0x251d8c(0x11a))[_0x251d8c(0x116)](_0x28003e);});const _0x575886=fs[_0x4c328a(0x11d)](_0x28003e);return fs[_0x4c328a(0x104)](_0x28003e),fs[_0x4c328a(0x104)](_0x2a32b5),_0x575886;}module[a12_0x147161(0xfd)]={'fetchImage':fetchImage,'fetchGif':fetchGif,'gifToSticker':gifToSticker};